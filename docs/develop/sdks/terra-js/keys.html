
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Keys &#8212; Terra Classic Docs  documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/custom.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/clipboard.min.js"></script>
    <script src="../../../../_static/copybutton.js"></script>
    <script src="../../../../_static/design-tabs.js"></script>
    <script src="../../../../_static/custom.js"></script>
    <link rel="shortcut icon" href="../../../../_static/docs_favicon.ico"/>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Make a connection" href="make-a-connection.html" />
    <link rel="prev" title="IBC Transfers" href="ibc.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../../../index.html">
  <img src="../../../../_static/docs_logo.svg" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../learn/README.html">
  Learn
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../README.html">
  Develop
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../full-node/README.html">
  Full node
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../ecosystem/README.html">
  Ecosystem
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../../../spacecamp/README.html">
  Hackathon resources
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../learn/terra-station/README.html">
   Terra Station
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../../learn/terra-station/download/README.html">
     Download
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../learn/terra-station/download/terra-station-desktop.html">
       Terra Station desktop
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../learn/terra-station/download/terra-station-extension.html">
       Terra Station Chrome extension
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../learn/terra-station/download/terra-station-mobile.html">
       Terra Station mobile
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../learn/terra-station/wallet.html">
     Wallet
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../learn/terra-station/send.html">
     Send
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../learn/terra-station/staking.html">
     Manage Staking
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../learn/terra-station/swap.html">
     Mint, burn, or swap
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../learn/terra-station/governance.html">
     Governance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../learn/terra-station/wormhole.html">
     Wormhole Bridge tutorial
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../learn/terra-station/multisig.html">
     Multisig wallets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../learn/terra-station/contracts.html">
     Contract
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../learn/terra-station/testnet.html">
     Testnet
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../learn/terra-station/keplr.html">
     Connect your Station Wallet to Keplr
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../dapp/quick-start/README.html">
   Terrain Quickstart
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../dapp/quick-start/initial-setup.html">
     Terrain initial setup
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../dapp/quick-start/using-terrain-testnet.html">
     Use Terrain with the testnet
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../dapp/quick-start/using-terrain-localterra.html">
     Use Terrain with LocalTerra
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../dapp/quick-start/mint-an-nft.html">
     Mint an NFT using Terrain
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../dapp/quick-start/contract-migration.html">
     Migrating CosmWasm contracts on Terra
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../dapp/quick-start/cw20-factory.html">
     Build a CW20 tokens factory
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../dapp/quick-start/using-terrain-localterra.html">
   Use Terrain with LocalTerra
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../dapp/quick-start/using-terrain-testnet.html">
   Use Terrain with the testnet
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../dapp/smart-contracts/README.html">
   In-depth dApp guide
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../dapp/smart-contracts/build-terra-dapp.html">
     Build a simple Terra dApp
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../dapp/smart-contracts/set-up-local-environment.html">
     Environment Setup
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../dapp/smart-contracts/write-smart-contract.html">
     Writing the Contract
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../dapp/smart-contracts/interact-with-smart-contract.html">
     Interacting with the Contract
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../dapp/smart-contracts/manage-cw20-tokens.html">
     CW20 Tokens
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../endpoints.html">
   RPC and LCD endpoints
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../module-specifications/README.html">
   Terra Core modules
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../module-specifications/spec-auth.html">
     Auth
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../module-specifications/spec-authz.html">
     AuthZ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../module-specifications/spec-bank.html">
     Bank
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../module-specifications/spec-capability.html">
     Capability
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../module-specifications/spec-distribution.html">
     Distribution
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../module-specifications/spec-evidence.html">
     Evidence
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../module-specifications/spec-feegrant.html">
     Fee grant
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../module-specifications/spec-governance.html">
     Governance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../module-specifications/spec-market.html">
     Market
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../module-specifications/spec-oracle.html">
     Oracle
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../module-specifications/spec-slashing.html">
     Slashing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../module-specifications/spec-staking.html">
     Staking
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../module-specifications/spec-treasury.html">
     Treasury
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../module-specifications/spec-wasm.html">
     WASM
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="README.html">
   Terra.js
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="getting-started.html">
     Get started with Terra.js
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="common-examples.html">
     Common examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="add-modules.html">
     Add modules
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="coin-and-coins.html">
     Coin and Coins
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="fees.html">
     Fees
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ibc.html">
     IBC Transfers
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Keys
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="make-a-connection.html">
     Make a connection
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="msgAuthorization.html">
     MsgAuthorization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="multisend.html">
     MsgSend
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="numeric.html">
     Numeric
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="oracle-feeder.html">
     Oracle feeder
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="query-data.html">
     Query data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="smart-contracts.html">
     Smart contracts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="transactions.html">
     Transactions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="wallets.html">
     Wallets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Websockets.html">
     Websockets
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://terra-money.github.io/terra.py/">
   Terra.py
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://faucet.terra.money/">
   Faucet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ecosystem/integrations.html">
   Block explorers
  </a>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rawkey">
   <code class="docutils literal notranslate">
    <span class="pre">
     RawKey
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mnemonickey">
   <code class="docutils literal notranslate">
    <span class="pre">
     MnemonicKey
    </span>
   </code>
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#specifying-an-hd-path">
     Specifying an HD path
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#custom-key-implementation">
   Custom key implementation
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="keys">
<h1>Keys<a class="headerlink" href="#keys" title="Permalink to this headline">#</a></h1>
<p>To perform actions using an account and private-public key pairs with Terra.js, you need an implementation of the <a class="reference external" href="https://github.com/terra-money/terra.js/blob/main/src/key/Key.ts"> <em>Key</em> </a> class, which provides an abstraction around the signing functions of an account. There are multiple implementations available:</p>
<p><a class="reference external" href="https://github.com/terra-money/terra.js/blob/main/src/key/RawKey.ts"> <em>RawKey</em> </a>
<a class="reference external" href="https://github.com/terra-money/terra.js/blob/main/src/key/MnemonicKey.ts"> <em>MnemonicKey</em> </a>
<a class="reference external" href="https://github.com/terra-money/terra.js/blob/main/src/key/CLIKey.ts"> <em>CLIKey</em> </a></p>
<p>You can also create a custom signing solution by extending the base <a class="reference external" href="https://github.com/terra-money/terra.js/blob/main/src/key/Key.ts"> <em>Key</em> </a> class.</p>
<div class="section" id="rawkey">
<h2><code class="docutils literal notranslate"><span class="pre">RawKey</span></code><a class="headerlink" href="#rawkey" title="Permalink to this headline">#</a></h2>
<p>The most basic implementation of a <code class="docutils literal notranslate"><span class="pre">Key</span></code> is a <code class="docutils literal notranslate"><span class="pre">RawKey</span></code>, which is created using a plain private key. <code class="docutils literal notranslate"><span class="pre">RawKey</span></code>  wraps the 32 bytes of a private key and supplies a corresponding public key:</p>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">RawKey</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@terra-money/terra.js&#39;</span><span class="p">;</span><span class="w"></span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">randomBytes</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;crypto&#39;</span><span class="w"></span>
<span class="kd">let</span><span class="w"> </span><span class="nx">see</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">;</span><span class="w"></span>

<span class="kd">const</span><span class="w"> </span><span class="nx">raw_key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">RawKey</span><span class="p">(</span><span class="nx">randomBytes</span><span class="p">(</span><span class="mf">32</span><span class="p">));</span><span class="w"></span>

<span class="nx">see</span><span class="p">(</span><span class="nx">raw_key</span><span class="p">.</span><span class="nx">publicKey</span><span class="p">)</span><span class="c1">//SimplePublicKey { key: &#39;AlNdglClnFJMwdeFGlfFTAwbx7rxKxWbgN/lwj5mQ3vw&#39; }</span><span class="w"></span>
<span class="nx">see</span><span class="p">(</span><span class="nx">raw_key</span><span class="p">.</span><span class="nx">privateKey</span><span class="p">)</span><span class="c1">//&lt;Buffer 53 e2 53 0b 29 c4 9d 54 b3 66 a4 61 7b d3 e2 6e 4c e5 41 cd 12 a6 e9 27 8a 97 61 1c 55 6e cd 4c&gt;</span><span class="w"></span>
<span class="nx">see</span><span class="p">(</span><span class="nx">raw_key</span><span class="p">.</span><span class="nx">accAddress</span><span class="p">)</span><span class="c1">//terra1ptj88nsljjr9agx07hahu6etv43acksy2q44sd</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="mnemonickey">
<h2><code class="docutils literal notranslate"><span class="pre">MnemonicKey</span></code><a class="headerlink" href="#mnemonickey" title="Permalink to this headline">#</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">MnemonicKey</span></code> derives itself from a 24-word  <a class="reference external" href="https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki"> BIP-39 </a> mnemonic as opposed to the bytes of a  private key.
A <code class="docutils literal notranslate"><span class="pre">MnemonicKey</span></code> has various levels of definition:</p>
<ul class="simple">
<li><p>Supply no arguments for the mnemonic to be randomly generated ( effectively generating a random key ).</p></li>
<li><p>Supply only a 24-word BIP-39 mnemonic to generate a corresponding key.</p></li>
<li><p>Supply a full HD path (using either a  random or particular mnenomic).</p></li>
</ul>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">MnemonicKey</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@terra-money/terra.js&#39;</span><span class="p">;</span><span class="w"></span>
<span class="kd">const</span><span class="w"> </span><span class="nx">see</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">;</span><span class="w"></span>

<span class="kd">const</span><span class="w"> </span><span class="nx">MNE_KEY_RANDOM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">MnemonicKey</span><span class="p">();</span><span class="w"></span>

<span class="nx">see</span><span class="p">(</span><span class="nx">MNE_KEY_RANDOM</span><span class="p">.</span><span class="nx">mnemonic</span><span class="p">)</span><span class="w">  </span><span class="c1">// famous { ... } myth world size</span><span class="w"></span>
<span class="nx">see</span><span class="p">(</span><span class="nx">MNE_KEY_RANDOM</span><span class="p">.</span><span class="nx">privateKey</span><span class="p">)</span><span class="w"> </span><span class="c1">// &lt;Buffer 4f e5 { ... } 51 a4 41 9c&gt; </span><span class="w"></span>
<span class="nx">see</span><span class="p">(</span><span class="nx">MNE_KEY_RANDOM</span><span class="p">.</span><span class="nx">publicKey</span><span class="p">)</span><span class="w"> </span><span class="c1">// SimplePublicKey { key: &#39;A8TNSJhn6gGHgY2ohJnkOaZz7Y0FaW/QeytGBaqCLIJU&#39; }</span><span class="w"></span>
<span class="nx">see</span><span class="p">(</span><span class="nx">MNE_KEY_RANDOM</span><span class="p">.</span><span class="nx">accAddress</span><span class="p">)</span><span class="w"> </span><span class="c1">// terra1l63e8q7yjyd77qanwfgvl43ulagf34a2xzcuv4</span><span class="w"></span>


<span class="kd">const</span><span class="w"> </span><span class="nx">MNE_KEY_EXACT</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">MnemonicKey</span><span class="p">({</span><span class="w"></span>
<span class="w">  </span><span class="nx">mnemonic</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;squirrel future level fan world organ daring thing color orange sausage cross fault interest blast wink audit unfair satoshi solution track indoor sun edit&quot;</span><span class="p">,</span><span class="w"></span>
<span class="p">});</span><span class="w"></span>

<span class="kd">const</span><span class="w"> </span><span class="nx">MNE_KEY_RANDOM_WITH_HD_PATH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">MnemonicKey</span><span class="p">({</span><span class="w"></span>
<span class="w">  </span><span class="c1">// mnemonic: &quot;&quot;,   // optional, will be random if not provided</span><span class="w"></span>
<span class="w">  </span><span class="nx">coinType</span><span class="o">:</span><span class="w"> </span><span class="kt">330</span><span class="p">,</span><span class="w">               </span><span class="c1">// optional, default</span><span class="w"></span>
<span class="w">  </span><span class="nx">account</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span><span class="w">                 </span><span class="c1">// optional, default</span><span class="w"></span>
<span class="w">  </span><span class="nx">index</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span><span class="w">                 </span><span class="c1">// optional, default</span><span class="w"></span>
<span class="p">});</span><span class="w"></span>

<span class="kd">const</span><span class="w"> </span><span class="nx">MNE_KEY_FULLY_RESOLVED</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">MnemonicKey</span><span class="p">({</span><span class="w"></span>
<span class="w">  </span><span class="nx">mnemonic</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;squirrel future level fan world organ daring thing color orange sausage cross fault interest blast wink audit unfair satoshi solution track indoor sun edit&quot;</span><span class="p">,</span><span class="w">   </span>
<span class="w">  </span><span class="nx">coinType</span><span class="o">:</span><span class="w"> </span><span class="kt">330</span><span class="p">,</span><span class="w">               </span>
<span class="w">  </span><span class="nx">account</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span><span class="w">                 </span>
<span class="w">  </span><span class="nx">index</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span><span class="w">                </span>
<span class="p">});</span><span class="w"></span>
</pre></div>
</div>
<div class="section" id="specifying-an-hd-path">
<h3>Specifying an HD path<a class="headerlink" href="#specifying-an-hd-path" title="Permalink to this headline">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">MnemonicKey</span></code> can used to recover a wallet with a particular BIP44 HD path: <code class="docutils literal notranslate"><span class="pre">m/44'/${coinType}'/${account}'/0/${index}</span></code>.</p>
<div class="tip admonition">
<p class="admonition-title">HD keys</p>
<p>As per <a class="reference external" href="https://github.com/confio/cosmos-hd-key-derivation-spec"> <em>Cosmos HD Key Derivation</em> </a>:</p>
<p>Cosmos blockchains support hierarchical deterministic key generation (HD keys) for deriving multiple cryptographic keypairs from a single secret value. This allows the user to use different keypairs for different accounts on one blockchain and create accounts on multiple blockchains without having to manage multiple secrets.</p>
</div>
<p>For example, to recover a mnemonic with the old Terra wallet HD path using coin type for ATOM (118):</p>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">mne_key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">MnemonicKey</span><span class="p">({</span><span class="w"></span>
<span class="w">  </span><span class="nx">mnemonic</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;[ Your BIP39 mnemonic ]&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nx">coinType</span><span class="o">:</span><span class="w"> </span><span class="kt">118</span><span class="w">     </span><span class="c1">// &lt;--------- Cosmos&#39; coin type ( Terra had inherited initially )</span><span class="w"></span>
<span class="p">});</span><span class="w"></span>
</pre></div>
</div>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki"> BIP-39 Mnemonics </a></p></li>
<li><p>Coin Types Numbers <code class="docutils literal notranslate"><span class="pre">330</span></code> and <code class="docutils literal notranslate"><span class="pre">118</span></code> above refer to “coin-types” for <code class="docutils literal notranslate"><span class="pre">Cosmos</span></code> and <code class="docutils literal notranslate"><span class="pre">Terra</span></code> blockchains accordingly. These numbers are defined according to the <a class="reference external" href="https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki"> BIP044 </a> standard. You can find more information <a class="reference external" href="https://github.com/satoshilabs/slips/blob/master/slip-0044.md"> here </a>.</p></li>
</ul>
</div>
</div>
<div class="section" id="custom-key-implementation">
<h2>Custom key implementation<a class="headerlink" href="#custom-key-implementation" title="Permalink to this headline">#</a></h2>
<p>If you need to write your own key management solution, you will need to subclass the abstract <code class="docutils literal notranslate"><span class="pre">Key</span></code> class and provide your own signing function. Instead of exposing details pertaining to your private key, you can specify a <code class="docutils literal notranslate"><span class="pre">sign()</span></code> function that forwards the signing request to a server or to a hardware wallet. The remaining functions related to signing (<code class="docutils literal notranslate"><span class="pre">createSignature()</span></code> and <code class="docutils literal notranslate"><span class="pre">signTx()</span></code>) are automatically provided and use <code class="docutils literal notranslate"><span class="pre">sign()</span></code> underneath.</p>
<p>The following code listing is close to the implementation of <code class="docutils literal notranslate"><span class="pre">RawKey</span></code>, which illustrates how to write a custom <code class="docutils literal notranslate"><span class="pre">Key</span></code>:</p>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nx">SHA256</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;crypto-js/sha256&#39;</span><span class="p">;</span><span class="w"></span>
<span class="k">import</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">secp256k1</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;secp256k1&#39;</span><span class="p">;</span><span class="w"></span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Key</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@terra-money/terra.js&#39;</span><span class="p">;</span><span class="w"></span>

<span class="cm">/**</span>
<span class="cm"> * An implementation of the Key interfaces that uses a raw private key.</span>
<span class="cm"> */</span><span class="w"></span>
<span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">NaiveCustomImplementation</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Key</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">  </span><span class="cm">/**</span>
<span class="cm">   * Raw private key, in bytes.</span>
<span class="cm">   */</span><span class="w"></span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="nx">privateKey</span><span class="o">:</span><span class="w"> </span><span class="kt">Buffer</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">privateKey</span><span class="o">:</span><span class="w"> </span><span class="kt">Buffer</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">publicKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">secp256k1</span><span class="p">.</span><span class="nx">publicKeyCreate</span><span class="p">(</span><span class="w"></span>
<span class="w">      </span><span class="ow">new</span><span class="w"> </span><span class="nb">Uint8Array</span><span class="p">(</span><span class="nx">privateKey</span><span class="p">),</span><span class="w"></span>
<span class="w">      </span><span class="kc">true</span><span class="w"></span>
<span class="w">    </span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">super</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nx">SimplePublicKey</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">.</span><span class="kr">from</span><span class="p">(</span><span class="nx">publicKey</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">&#39;base64&#39;</span><span class="p">)));</span><span class="w"></span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">privateKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">privateKey</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="nx">sign</span><span class="p">(</span><span class="nx">payload</span><span class="o">:</span><span class="w"> </span><span class="kt">Buffer</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Buffer</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">hash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Buffer</span><span class="p">.</span><span class="kr">from</span><span class="p">(</span><span class="nx">SHA256</span><span class="p">(</span><span class="nx">payload</span><span class="p">.</span><span class="nx">toString</span><span class="p">()).</span><span class="nx">toString</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;hex&#39;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">signature</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">secp256k1</span><span class="p">.</span><span class="nx">ecdsaSign</span><span class="p">(</span><span class="w"></span>
<span class="w">      </span><span class="nb">Uint8Array</span><span class="p">.</span><span class="kr">from</span><span class="p">(</span><span class="nx">hash</span><span class="p">),</span><span class="w"></span>
<span class="w">      </span><span class="nb">Uint8Array</span><span class="p">.</span><span class="kr">from</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">privateKey</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">(()=&gt;{</span><span class="nx">Buffer</span><span class="p">.</span><span class="kr">from</span><span class="p">(</span><span class="nx">signature</span><span class="p">)});</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Note that you must call <code class="docutils literal notranslate"><span class="pre">super()</span></code> with the public key to generate the relevant account and validator public keys associated with your key.</p>
</div>
</div>


              </div>
              
              
              



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="ibc.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">IBC Transfers</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="make-a-connection.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Make a connection</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
              
          </main>
          

      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
<footer class="footer">
  <p>
    

    <div class="extra_footer container">
      <div class="row">

        <div class="col">

          <div class="logos">
            <a href="https://discord.gg/terra-rebels" rel="noopener" target="_blank"><img src="/discord.svg" alt="link to Terra Rebels discord room"></a>&nbsp;
            <a href="https://medium.com/terra-money" rel="noopener" target="_blank"><img src="/medium.svg" alt="link to Terra medium"></a>&nbsp;
            <a href="https://twitter.com/terrarebels" rel="noopener" target="_blank"><img src="/twitter.svg" alt="link to Terra Rebels twitter"></a>&nbsp;
<!--             <a href="https://www.youtube.com/channel/UCoV1RXZ9ZBGcuu_PMTTlM0g" rel="noopener" target="_blank"><img src="/icon_youtube.png" alt="link to Terra youtube"></a>&nbsp; -->
            <a href="https://t.me/OfficialTerraRebels" rel="noopener" target="_blank"><img src="/icon_telegram.png" alt="link to Terra Rebels telegram room"></a>
            <br/><br/>
          </div>

        </div>

        <div class="col-md-auto">

          <a href="https://www.terrarebels.net/" >terrarebels.net</a> <br/>
          <a href="mailto:contact@terrarebels.net" >Contact</a> <br/>
          <br/>

        </div>

        <div class="col-md-auto">

          <a href="https://assets.website-files.com/611153e7af981472d8da199c/618b02d13e938ae1f8ad1e45_Terra_White_paper.pdf" >Whitepaper</a> <br/>
          <a href="https://certik.org/projects/terra" >Security Audit</a> <br/>
          <a href="https://agora.terrarebels.net/" >Agora forum</a> <br/>
          <br/>

        </div>

        <div class="col">
          <a href="https://finder.terra.money/" >Terra Finder</a> <br/>
          <a href="https://station.terrarebels.net/" >Rebel Station</a> <br/>
          <br/>

        </div>

      </div>
    </div>


  </p>

</footer>
  </body>
</html>