<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Terra.py &mdash; Terra Classic Docs  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/docs_favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/clipboard.min.js"></script>
        <script src="../../../_static/copybutton.js"></script>
        <script src="../../../_static/design-tabs.js"></script>
        <script src="../../../_static/custom.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Wallet Provider" href="wallet-provider/README.html" />
    <link rel="prev" title="Websockets" href="terra-js/Websockets.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html">
            <img src="../../../_static/docs_logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../learn/README.html">Learn</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../README.html">Develop</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../get-started.html">How to get started </a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started.html#development-suite">Development Suite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started.html#resources">Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tools.html">Which tools to use</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dapp/README.html">Build a dApp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how-to/README.html">Guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="../endpoints.html">RPC and LCD endpoints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../open-source.html">Open source contract comparison</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module-specifications/README.html">Terra Core modules </a></li>
<li class="toctree-l2 current"><a class="reference internal" href="README.html">SDKs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="terra-js/README.html">Terra.js </a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Terra<span/>.py</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installation">Installation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#usage-examples">Usage Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#localterra-for-development-testing">LocalTerra for Development &amp; Testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#connecting-to-your-wallet">Connecting to Your Wallet</a></li>
<li class="toctree-l4"><a class="reference internal" href="#quick-note-on-gas-fees">Quick Note on Gas &amp; Fees</a></li>
<li class="toctree-l4"><a class="reference internal" href="#signing-and-sending-transactions">Signing and Sending Transactions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#swapping-digital-currencies">Swapping Digital Currencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#interacting-with-smart-contracts">Interacting with Smart Contracts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#next-steps">Next steps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="wallet-provider/README.html">Wallet Provider</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/README.html">Dev reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../resources.html">Developer resources</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../full-node/README.html">Full node</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ecosystem/README.html">Ecosystem</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../spacecamp/README.html">Hackathon resources </a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Terra Classic Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../README.html">Develop</a></li>
          <li class="breadcrumb-item"><a href="README.html">SDKs</a></li>
      <li class="breadcrumb-item active">Terra<span/>.py</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/docs/develop/sdks/get-started-py.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="tex2jax_ignore mathjax_ignore section" id="terra-span-py">
<h1>Terra<span/>.py<a class="headerlink" href="#terra-span-py" title="Permalink to this headline"></a></h1>
<p>The Terra Python Software Development Kit (SDK) is a library toolkit used for developing software for interacting with the Terra blockchain. In this tutorial, you will learn how you can install the Terra Python SDK, as well as any necessary dependencies, and how you can carry out various transactions utilizing this technology.</p>
<p>For more information on Terra<span/>.py, visit the <a class="reference external" href="https://terra-money.github.io/terra.py/">Terra<span/>.py docs</a>.</p>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline"></a></h2>
<p>The Terra Python SDK requires <a href="https://www.python.org/downloads/">Python v3.7+</a>.</p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline"></a></h2>
<ol class="arabic simple">
<li><p>The Terra Python SDK may be installed, preferably in a <a class="reference external" href="https://packaging.python.org/en/latest/guides/installing-using-pip-and-virtual-environments/">virtual environment</a>, by running the following command in your terminal:</p></li>
</ol>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>pip install -U terra_sdk
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Run the following commands to clone the <code class="docutils literal notranslate"><span class="pre">terra.py</span></code> repository, enter the new directory and install all necessary dependencies:</p></li>
</ol>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git clone --depth <span class="m">1</span> https://github.com/terra-money/terra.py.git
<span class="nb">cd</span> terra.py
pip install poetry
poetry install
</pre></div>
</div>
<br/>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="usage-examples">
<h1>Usage Examples<a class="headerlink" href="#usage-examples" title="Permalink to this headline"></a></h1>
<p>The Terra Python SDK can be used to carry out a variety of transactions on the Terra blockchain. This tutorial covers the following examples:</p>
<div align="center">
<p><a class="reference internal" href="#signing-and-sending-transactions"><span class="std std-doc"><em>Signing and Sending Transactions</em></span></a></p>
<p><a class="reference internal" href="#swapping-digital-currencies"><span class="std std-doc"><em>Swapping Digital Currencies</em></span></a></p>
<p><a class="reference internal" href="#interacting-with-smart-contracts"><span class="std std-doc"><em>Interacting with Smart Contracts</em></span></a></p>
</div>
<div class="section" id="localterra-for-development-testing">
<h2>LocalTerra for Development &amp; Testing<a class="headerlink" href="#localterra-for-development-testing" title="Permalink to this headline"></a></h2>
<p>For testing your transactions, it is recommended that you install and run LocalTerra on your personal computer. Instructions on how to get LocalTerra up and running may be found in the <a class="reference external" href="https://github.com/terra-money/LocalTerra">LocalTerra Github repository</a>. If you would rather test on a network similar to <code class="docutils literal notranslate"><span class="pre">mainnet</span></code>, the live Terra blockchain, then you may utilize <code class="docutils literal notranslate"><span class="pre">testnet</span></code>. However, you will be limited on the number of transactions that you may make per day. This is to protect computing resources from scripts that may spam the network. Once you are comfortable enough to make transactions on the live Terra blockchain, you may utilize <code class="docutils literal notranslate"><span class="pre">mainnet</span></code> to carry out transactions with your own assets.</p>
</div>
<div class="section" id="connecting-to-your-wallet">
<h2>Connecting to Your Wallet<a class="headerlink" href="#connecting-to-your-wallet" title="Permalink to this headline"></a></h2>
<p>In order to conduct transactions on Terra, you will need to be able to send requests to the underlying blockchain. This may be done via instantiating an LCDClient which can be used to communicate to the corresponding Terra Lite Client Daemon (LCD) node.</p>
<p>After you have instantiated your client to communicate with the appropriate network, you may initialize the wallet with which you would like to carry out transactions. On LocalTerra, you may pass in a name of a preconfigured testing wallet (test1-10), each of which contains more than adequate funds for testing purposes. On testnet or mainnet, you will need to pass in the mnemonic key associated with your wallet.</p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Carrying out transactions on testnet or mainnet require the use of your personal seed phrase or mnemonic key. This is an unencrypted private key that is generated and presented to you upon the creation of your personal wallet. Saving or utilizing this phrase on your personal computer may expose this private key to malicious actors who could gain access to your personal wallet if they are able to obtain it. You may create a wallet solely for testing purposes to eliminate risk. Use your mnemonic key at your own disgretion.</p>
</div>
<p><ins><strong>LocalTerra</strong></ins></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">terra_sdk.client.localterra</span> <span class="kn">import</span> <span class="n">LocalTerra</span>

<span class="c1"># Create client to communicate with localterra.</span>
<span class="n">terra</span> <span class="o">=</span> <span class="n">LocalTerra</span><span class="p">()</span>

<span class="c1"># Initialize preconfigured test wallet.</span>
<span class="n">wallet</span> <span class="o">=</span> <span class="n">terra</span><span class="o">.</span><span class="n">wallets</span><span class="p">[</span><span class="s2">&quot;test1&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p><ins><strong>Testnet</strong></ins></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">terra_sdk.key.mnemonic</span> <span class="kn">import</span> <span class="n">MnemonicKey</span>
<span class="kn">from</span> <span class="nn">terra_sdk.client.lcd</span> <span class="kn">import</span> <span class="n">LCDClient</span>

<span class="c1"># Create client to communicate with testnet.</span>
<span class="n">terra</span> <span class="o">=</span> <span class="n">LCDClient</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://bombay-lcd.terra.dev/&quot;</span><span class="p">,</span>
    <span class="n">chain_id</span><span class="o">=</span><span class="s2">&quot;bombay-12&quot;</span>
<span class="p">)</span>

<span class="c1"># Initialize wallet with associated mnemonic key.</span>
<span class="n">mk</span> <span class="o">=</span> <span class="n">MnemonicKey</span><span class="p">(</span><span class="n">mnemonic</span><span class="o">=</span><span class="s2">&quot;&lt;INSERT MNEMONIC KEY HERE&gt;&quot;</span><span class="p">)</span>
<span class="n">wallet</span> <span class="o">=</span> <span class="n">terra</span><span class="o">.</span><span class="n">wallet</span><span class="p">(</span><span class="n">mk</span><span class="p">)</span>
</pre></div>
</div>
<p><ins><strong>Mainnet</strong></ins></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">terra_sdk.key.mnemonic</span> <span class="kn">import</span> <span class="n">MnemonicKey</span>
<span class="kn">from</span> <span class="nn">terra_sdk.client.lcd</span> <span class="kn">import</span> <span class="n">LCDClient</span>

<span class="c1"># Create client to communicate with mainnet.</span>
<span class="n">terra</span> <span class="o">=</span> <span class="n">LCDClient</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://lcd.terra.dev&quot;</span><span class="p">,</span>
    <span class="n">chain_id</span><span class="o">=</span><span class="s2">&quot;columbus-5&quot;</span>
<span class="p">)</span>

<span class="c1"># Initialize wallet with associated mnemonic key.</span>
<span class="n">mk</span> <span class="o">=</span> <span class="n">MnemonicKey</span><span class="p">(</span><span class="n">mnemonic</span><span class="o">=</span><span class="s2">&quot;&lt;INSERT MNEMONIC KEY HERE&gt;&quot;</span><span class="p">)</span>
<span class="n">wallet</span> <span class="o">=</span> <span class="n">terra</span><span class="o">.</span><span class="n">wallet</span><span class="p">(</span><span class="n">mk</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="quick-note-on-gas-fees">
<h2>Quick Note on Gas &amp; Fees<a class="headerlink" href="#quick-note-on-gas-fees" title="Permalink to this headline"></a></h2>
<p>All transactions on the blockchain will require some effort from computational resources in order to be processed and accepted. The computational work expended due to processing a transaction is quantified in units of <code class="docutils literal notranslate"><span class="pre">gas</span></code>.</p>
<p>Because the amount of gas needed may not be predetermined, the signer of the transaction must send the amount of gas that they would like to use along with the transaction. Fees are calculated by multiplying the gas amount specified in the transaction by either a user-specified price or by utilizing preset prices for each unit of gas. Current rates per unit of gas may be viewed on the <a class="reference external" href="https://fcd.terra.dev/v1/txs/gas_prices">gas rates FCD page</a>.</p>
<p>Each request you will make to the blockchain will contain a message detailing your transaction along with parameters that will help estimate the gas fee. The estimated fee must be above the minimum fee required to process the request for the transaction to be accepted. If the fee is too small to fully complete the request, you may still be responsible for charges on the processing that was carried out before the transaction failed. Gas that is left unused after the transaction will not be refunded and larger estimated fee values will not translate to any benefits for the signer.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="c1"># Request current gas rates for future fee estimation.</span>
<span class="n">gas_price_dict</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://fcd.terra.dev/v1/txs/gas_prices&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="n">gas_price_dict</span>
</pre></div>
</div>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;uluna&quot;</span><span class="p">:</span> <span class="s2">&quot;0.01133&quot;</span><span class="p">,</span>
  <span class="s2">&quot;usdr&quot;</span><span class="p">:</span> <span class="s2">&quot;0.104938&quot;</span><span class="p">,</span>
  <span class="s2">&quot;uusd&quot;</span><span class="p">:</span> <span class="s2">&quot;0.15&quot;</span><span class="p">,</span>
  <span class="s2">&quot;ukrw&quot;</span><span class="p">:</span> <span class="s2">&quot;170.0&quot;</span><span class="p">,</span>
  <span class="s2">&quot;umnt&quot;</span><span class="p">:</span> <span class="s2">&quot;428.571&quot;</span><span class="p">,</span>
  <span class="s2">&quot;ueur&quot;</span><span class="p">:</span> <span class="s2">&quot;0.125&quot;</span><span class="p">,</span>
  <span class="s2">&quot;ucny&quot;</span><span class="p">:</span> <span class="s2">&quot;0.98&quot;</span><span class="p">,</span>
  <span class="s2">&quot;ujpy&quot;</span><span class="p">:</span> <span class="s2">&quot;16.37&quot;</span><span class="p">,</span>
  <span class="s2">&quot;ugbp&quot;</span><span class="p">:</span> <span class="s2">&quot;0.11&quot;</span><span class="p">,</span>
  <span class="s2">&quot;uinr&quot;</span><span class="p">:</span> <span class="s2">&quot;10.88&quot;</span><span class="p">,</span>
  <span class="s2">&quot;ucad&quot;</span><span class="p">:</span> <span class="s2">&quot;0.19&quot;</span><span class="p">,</span>
  <span class="s2">&quot;uchf&quot;</span><span class="p">:</span> <span class="s2">&quot;0.14&quot;</span><span class="p">,</span>
  <span class="s2">&quot;uaud&quot;</span><span class="p">:</span> <span class="s2">&quot;0.19&quot;</span><span class="p">,</span>
  <span class="s2">&quot;usgd&quot;</span><span class="p">:</span> <span class="s2">&quot;0.2&quot;</span><span class="p">,</span>
  <span class="s2">&quot;uthb&quot;</span><span class="p">:</span> <span class="s2">&quot;4.62&quot;</span><span class="p">,</span>
  <span class="s2">&quot;usek&quot;</span><span class="p">:</span> <span class="s2">&quot;1.25&quot;</span><span class="p">,</span>
  <span class="s2">&quot;unok&quot;</span><span class="p">:</span> <span class="s2">&quot;1.25&quot;</span><span class="p">,</span>
  <span class="s2">&quot;udkk&quot;</span><span class="p">:</span> <span class="s2">&quot;0.9&quot;</span><span class="p">,</span>
  <span class="s2">&quot;uidr&quot;</span><span class="p">:</span> <span class="s2">&quot;2180.0&quot;</span><span class="p">,</span>
  <span class="s2">&quot;uphp&quot;</span><span class="p">:</span> <span class="s2">&quot;7.6&quot;</span><span class="p">,</span>
  <span class="s2">&quot;uhkd&quot;</span><span class="p">:</span> <span class="s2">&quot;1.17&quot;</span><span class="p">,</span>
  <span class="s2">&quot;umyr&quot;</span><span class="p">:</span> <span class="s2">&quot;0.6&quot;</span><span class="p">,</span>
  <span class="s2">&quot;utwd&quot;</span><span class="p">:</span> <span class="s2">&quot;4.0&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The “u” preceding the name of each currency is the unit symbol for micro. This means that each price is given in millionths of the corresponding cryptocurrency asset. Each currency name refers to its corresponding Terra token. For example, the “uusd”: “0.15” entry corresponds to a 0.00000015 UST cost for each unit of gas expended per transaction.</p>
</div>
</div>
<div class="section" id="signing-and-sending-transactions">
<h2>Signing and Sending Transactions<a class="headerlink" href="#signing-and-sending-transactions" title="Permalink to this headline"></a></h2>
<p>After initializing your LCDClient and wallet, you may try to carry out a simple transfer of funds. This involves initializing the addresses of your sender and receiver wallets, setting the relevant parameters to carry out the transaction, and creating, signing, and finally sending the request to the node for execution. In this example, you will be sending 1 Luna from your previously initialized wallet to another testing wallet, test2. For this example, fees will be paid in TerraUSD (UST), as specified in the <code class="docutils literal notranslate"><span class="pre">fee_denoms</span></code> parameter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">terra_sdk.client.lcd.api.tx</span> <span class="kn">import</span> <span class="n">CreateTxOptions</span>
<span class="kn">from</span> <span class="nn">terra_sdk.core.bank</span> <span class="kn">import</span> <span class="n">MsgSend</span>
<span class="kn">from</span> <span class="nn">terra_sdk.core</span> <span class="kn">import</span> <span class="n">Coins</span><span class="p">,</span> <span class="n">Coin</span>

<span class="c1"># Initialize sender and recipient wallet addresses.</span>
<span class="n">sender_address</span> <span class="o">=</span> <span class="n">wallet</span><span class="o">.</span><span class="n">key</span><span class="o">.</span><span class="n">acc_address</span>
<span class="n">recipient_address</span> <span class="o">=</span> <span class="n">terra</span><span class="o">.</span><span class="n">wallets</span><span class="p">[</span><span class="s2">&quot;test2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">key</span><span class="o">.</span><span class="n">acc_address</span>

<span class="c1"># Set relevant parameters for transaction.</span>
<span class="n">tx_options</span> <span class="o">=</span> <span class="n">CreateTxOptions</span><span class="p">(</span>
    <span class="n">msgs</span><span class="o">=</span><span class="p">[</span>
        <span class="n">MsgSend</span><span class="p">(</span>
            <span class="n">from_address</span><span class="o">=</span><span class="n">sender_address</span><span class="p">,</span>
            <span class="n">to_address</span><span class="o">=</span><span class="n">recipient_address</span><span class="p">,</span>
            <span class="n">amount</span><span class="o">=</span><span class="n">Coins</span><span class="p">([</span><span class="n">Coin</span><span class="p">(</span><span class="s2">&quot;uluna&quot;</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">)])</span>
        <span class="p">)</span>
    <span class="p">],</span>
    <span class="n">gas</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">,</span>
    <span class="n">gas_prices</span><span class="o">=</span><span class="n">Coins</span><span class="p">(</span><span class="n">gas_price_dict</span><span class="p">),</span>
    <span class="n">fee_denoms</span><span class="o">=</span><span class="s2">&quot;uusd&quot;</span><span class="p">,</span>
    <span class="n">gas_adjustment</span><span class="o">=</span><span class="mf">1.5</span>
<span class="p">)</span>

<span class="c1"># Create and sign transaction.</span>
<span class="n">tx</span> <span class="o">=</span> <span class="n">wallet</span><span class="o">.</span><span class="n">create_and_sign_tx</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="n">tx_options</span><span class="p">)</span>

<span class="c1"># Broadcast the request for execution to the Terra node.</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">terra</span><span class="o">.</span><span class="n">tx</span><span class="o">.</span><span class="n">broadcast</span><span class="p">(</span><span class="n">tx</span><span class="p">)</span>
</pre></div>
</div>
<p>After broadcasting the transaction to the Terra node, the <code class="docutils literal notranslate"><span class="pre">result</span></code> variable will hold all relevant information about your request, including if it was successfully completed or not. In the Jupyter Notebook files in this repository, you may utilize a helper function which will neatly present this information for you.</p>
<div class="note admonition">
<p class="admonition-title">Note on Gas Estimation</p>
<p>In <code class="docutils literal notranslate"><span class="pre">CreateTxOptions</span></code>, the setting of the <code class="docutils literal notranslate"><span class="pre">gas</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">auto</span></code> estimates the amount of gas that may be needed for processing the transaction. The <code class="docutils literal notranslate"><span class="pre">gas_adjustment</span></code> parameter allows for this value to be increased in order to meet the minimum gas requirement for processing if the estimated value is determined to be too small. In order to ensure acceptance of your transaction, this example sets this parameter to a value of 1.5. You may experiment with different parameter values to evaluate which configuration is best for you.</p>
</div>
</div>
<div class="section" id="swapping-digital-currencies">
<h2>Swapping Digital Currencies<a class="headerlink" href="#swapping-digital-currencies" title="Permalink to this headline"></a></h2>
<p>If you would like to swap one of your Terra assets for another, you may broadcast a swap message to the Terra node. In this example, you will utilize your previously initialized wallet, test1, to swap 1 Luna to UST. You also specify that you will pay the transaction fee with your TerraKRW (KRT) assets.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">terra_sdk.client.lcd.api.tx</span> <span class="kn">import</span> <span class="n">CreateTxOptions</span>
<span class="kn">from</span> <span class="nn">terra_sdk.core.market</span> <span class="kn">import</span> <span class="n">MsgSwap</span>
<span class="kn">from</span> <span class="nn">terra_sdk.core</span> <span class="kn">import</span> <span class="n">Coins</span><span class="p">,</span> <span class="n">Coin</span>

<span class="c1"># Initialize trader wallet address.</span>
<span class="n">trader_address</span> <span class="o">=</span> <span class="n">wallet</span><span class="o">.</span><span class="n">key</span><span class="o">.</span><span class="n">acc_address</span>

<span class="c1"># Set relevant parameters for transaction.</span>
<span class="n">tx_options</span> <span class="o">=</span> <span class="n">CreateTxOptions</span><span class="p">(</span>
    <span class="n">msgs</span><span class="o">=</span><span class="p">[</span>
        <span class="n">MsgSwap</span><span class="p">(</span>
            <span class="n">trader</span><span class="o">=</span><span class="n">trader_address</span><span class="p">,</span>
            <span class="n">offer_coin</span><span class="o">=</span><span class="n">Coin</span><span class="p">(</span><span class="s2">&quot;uluna&quot;</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">),</span>
            <span class="n">ask_denom</span><span class="o">=</span><span class="s2">&quot;uusd&quot;</span>
        <span class="p">)</span>
    <span class="p">],</span>
    <span class="n">gas</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">,</span>
    <span class="n">gas_prices</span><span class="o">=</span><span class="n">Coins</span><span class="p">(</span><span class="n">gas_price_dict</span><span class="p">),</span>
    <span class="n">fee_denoms</span><span class="o">=</span><span class="s2">&quot;ukrw&quot;</span><span class="p">,</span>
    <span class="n">gas_adjustment</span><span class="o">=</span><span class="mf">1.5</span>
<span class="p">)</span>

<span class="c1"># Create and sign transaction.</span>
<span class="n">tx</span> <span class="o">=</span> <span class="n">wallet</span><span class="o">.</span><span class="n">create_and_sign_tx</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="n">tx_options</span><span class="p">)</span>

<span class="c1"># Broadcast the request for execution to the Terra node.</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">terra</span><span class="o">.</span><span class="n">tx</span><span class="o">.</span><span class="n">broadcast</span><span class="p">(</span><span class="n">tx</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="swap-and-send">
<h3>Swap and Send<a class="headerlink" href="#swap-and-send" title="Permalink to this headline"></a></h3>
<p>You may also swap and send funds to an address of your choice utilizing a swap and send message. In this example, you will swap 1 Luna for UST and then send the resulting funds to another testing wallet.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">terra_sdk.client.lcd.api.tx</span> <span class="kn">import</span> <span class="n">CreateTxOptions</span>
<span class="kn">from</span> <span class="nn">terra_sdk.core.market</span> <span class="kn">import</span> <span class="n">MsgSwapSend</span>
<span class="kn">from</span> <span class="nn">terra_sdk.core</span> <span class="kn">import</span> <span class="n">Coins</span><span class="p">,</span> <span class="n">Coin</span>

<span class="c1"># Initialize sender and recipient wallet addresses.</span>
<span class="n">sender_address</span> <span class="o">=</span> <span class="n">wallet</span><span class="o">.</span><span class="n">key</span><span class="o">.</span><span class="n">acc_address</span>
<span class="n">recipient_address</span> <span class="o">=</span> <span class="n">terra</span><span class="o">.</span><span class="n">wallets</span><span class="p">[</span><span class="s2">&quot;test2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">key</span><span class="o">.</span><span class="n">acc_address</span>

<span class="c1"># Set relevant parameters for transaction.</span>
<span class="n">tx_options</span> <span class="o">=</span> <span class="n">CreateTxOptions</span><span class="p">(</span>
    <span class="n">msgs</span><span class="o">=</span><span class="p">[</span>
        <span class="n">MsgSwapSend</span><span class="p">(</span>
            <span class="n">from_address</span><span class="o">=</span><span class="n">sender_address</span><span class="p">,</span>
            <span class="n">to_address</span><span class="o">=</span><span class="n">recipient_address</span><span class="p">,</span>
            <span class="n">offer_coin</span><span class="o">=</span><span class="n">Coin</span><span class="p">(</span><span class="s2">&quot;uluna&quot;</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">),</span>
            <span class="n">ask_denom</span><span class="o">=</span><span class="s2">&quot;uusd&quot;</span>
        <span class="p">)</span>
    <span class="p">],</span>
    <span class="n">gas</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">,</span>
    <span class="n">gas_prices</span><span class="o">=</span><span class="n">Coins</span><span class="p">(</span><span class="n">gas_price_dict</span><span class="p">),</span>
    <span class="n">fee_denoms</span><span class="o">=</span><span class="s2">&quot;ukrw&quot;</span><span class="p">,</span>
    <span class="n">gas_adjustment</span><span class="o">=</span><span class="mf">1.5</span>
<span class="p">)</span>

<span class="c1"># Create and sign transaction.</span>
<span class="n">tx</span> <span class="o">=</span> <span class="n">wallet</span><span class="o">.</span><span class="n">create_and_sign_tx</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="n">tx_options</span><span class="p">)</span>

<span class="c1"># Broadcast the request for execution to the Terra node.</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">terra</span><span class="o">.</span><span class="n">tx</span><span class="o">.</span><span class="n">broadcast</span><span class="p">(</span><span class="n">tx</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="interacting-with-smart-contracts">
<h2>Interacting with Smart Contracts<a class="headerlink" href="#interacting-with-smart-contracts" title="Permalink to this headline"></a></h2>
<p>In order to interact with a smart contract on Terra, you will have to either deploy your own smart contract on LocalTerra or utilize one of the many exceptional contracts available on the testnet or mainnet. In this example, you will deposit 1 UST into Anchor utilizing the Terra Python SDK on the testnet. Anchor is a decentralized savings protocol that offers low-volatile yields on Terra stablecoin deposits. You may interact with Anchor by going to the <a class="reference external" href="https://app.anchorprotocol.com/earn">Anchor EARN page</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">terra_sdk.client.lcd.api.tx</span> <span class="kn">import</span> <span class="n">CreateTxOptions</span>
<span class="kn">from</span> <span class="nn">terra_sdk.core.wasm</span> <span class="kn">import</span> <span class="n">MsgExecuteContract</span>
<span class="kn">from</span> <span class="nn">terra_sdk.core</span> <span class="kn">import</span> <span class="n">Coins</span><span class="p">,</span> <span class="n">Coin</span>

<span class="c1"># Initialize sender wallet and smart contract addresses.</span>
<span class="n">sender_address</span> <span class="o">=</span> <span class="n">wallet</span><span class="o">.</span><span class="n">key</span><span class="o">.</span><span class="n">acc_address</span>
<span class="n">anchor_contract_address</span> <span class="o">=</span> <span class="s2">&quot;terra15dwd5mj8v59wpj0wvt233mf5efdff808c5tkal&quot;</span>

<span class="c1"># Set relevant parameters for transactions.</span>
<span class="n">tx_options</span> <span class="o">=</span> <span class="n">CreateTxOptions</span><span class="p">(</span>
    <span class="n">msgs</span><span class="o">=</span><span class="p">[</span>
        <span class="n">MsgExecuteContract</span><span class="p">(</span>
            <span class="n">sender</span><span class="o">=</span><span class="n">sender_address</span><span class="p">,</span>
            <span class="n">contract</span><span class="o">=</span><span class="n">anchor_contract_address</span><span class="p">,</span>
            <span class="n">execute_msg</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;deposit_stable&quot;</span><span class="p">:</span> <span class="p">{}},</span>
            <span class="n">coins</span><span class="o">=</span><span class="n">Coins</span><span class="p">([</span><span class="n">Coin</span><span class="p">(</span><span class="s2">&quot;uusd&quot;</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">)])</span>
        <span class="p">)</span>
    <span class="p">],</span>
    <span class="n">gas</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">,</span>
    <span class="n">gas_prices</span><span class="o">=</span><span class="n">Coins</span><span class="p">(</span><span class="n">gas_price_dict</span><span class="p">),</span>
    <span class="n">fee_denoms</span><span class="o">=</span><span class="s2">&quot;uusd&quot;</span><span class="p">,</span>
    <span class="n">gas_adjustment</span><span class="o">=</span><span class="mf">1.5</span>
<span class="p">)</span>

<span class="c1"># Create and sign transaction.</span>
<span class="n">tx</span> <span class="o">=</span> <span class="n">wallet</span><span class="o">.</span><span class="n">create_and_sign_tx</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="n">tx_options</span><span class="p">)</span>

<span class="c1"># Broadcast the request for execution to the Terra node.</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">terra</span><span class="o">.</span><span class="n">tx</span><span class="o">.</span><span class="n">broadcast</span><span class="p">(</span><span class="n">tx</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="next-steps">
<h2>Next steps<a class="headerlink" href="#next-steps" title="Permalink to this headline"></a></h2>
<p>For more information on your next steps with Terra<span/>.py, visit the <a class="reference external" href="https://terra-money.github.io/terra.py/">Terra<span/>.py docs</a>.</p>
</div>
</div>


           </div>
          </div>
          <footer class="footer">
  <p>
    

    <div class="extra_footer container">
      <div class="row">

        <div class="col">

          <div class="logos">
            <a href="https://discord.gg/terra-rebels" rel="noopener" target="_blank"><img src="/discord.svg" alt="link to Terra Rebels discord room"></a>&nbsp;
            <a href="https://medium.com/terra-money" rel="noopener" target="_blank"><img src="/medium.svg" alt="link to Terra medium"></a>&nbsp;
            <a href="https://twitter.com/terrarebels" rel="noopener" target="_blank"><img src="/twitter.svg" alt="link to Terra Rebels twitter"></a>&nbsp;
<!--             <a href="https://www.youtube.com/channel/UCoV1RXZ9ZBGcuu_PMTTlM0g" rel="noopener" target="_blank"><img src="/icon_youtube.png" alt="link to Terra youtube"></a>&nbsp; -->
            <a href="https://t.me/OfficialTerraRebels" rel="noopener" target="_blank"><img src="/icon_telegram.png" alt="link to Terra Rebels telegram room"></a>
            <br/><br/>
          </div>

        </div>

        <div class="col-md-auto">

          <a href="https://www.terrarebels.net/" >terrarebels.net</a> <br/>
          <a href="mailto:contact@terrarebels.net" >Contact</a> <br/>
          <br/>

        </div>

        <div class="col-md-auto">

          <a href="https://assets.website-files.com/611153e7af981472d8da199c/618b02d13e938ae1f8ad1e45_Terra_White_paper.pdf" >Whitepaper</a> <br/>
          <a href="https://certik.org/projects/terra" >Security Audit</a> <br/>
          <a href="https://agora.terrarebels.net/" >Agora forum</a> <br/>
          <br/>

        </div>

        <div class="col">
          <a href="https://finder.terra.money/" >Terra Finder</a> <br/>
          <a href="https://station.terrarebels.net/" >Rebel Station</a> <br/>
          <br/>

        </div>

      </div>
    </div>


  </p>

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>